<assembly>
  <advices>
    <advice>
      <unit>
        <provides>
          <provided namespace='org.sonatype.runtime.type' name='itar' version='1.0.0' />
        </provides>
        <touchpoint id='org.sonatype.tycho.p2.touchpoint' version='0.1.0' />
        <touchpointData>
          <instructions>
            <instruction key='install'>
              natives:mkdir( path:${installFolder}/${maven:runtimeDir} );
              natives:mkdir( path:${installFolder}/${maven:runtimeDir}/lib );
          </instruction>
            <instruction key='uninstall'>
            </instruction>
          </instructions>
        </touchpointData>
      </unit>
    </advice>
    <advice>
      <appliesTransitively>true</appliesTransitively>
      <appliesTo>
        <includes>
          <include>com.sonatype.sshjgit:sshjgit-standalone</include>
        </includes>
      </appliesTo>
      <unit id="${maven:id}" version="${maven:osgiVersion}">
        <touchpoint id='org.sonatype.tycho.p2.touchpoint' version='0.1.0' />
        <touchpointData>
          <instructions>
            <instruction key='install'>
              natives:copy( source:${artifact.location}, target:${installFolder}/${maven:runtimeDir}/lib/${maven:artifactId}.jar);
            </instruction>
            <instruction key='uninstall'>
              natives:remove( source:${artifact.location}, target:${installFolder}/${maven:runtimeDir}/lib/${maven:artifactId}.jar);
            </instruction>
          </instructions>
        </touchpointData>
      </unit>
    </advice>
  </advices>
</assembly>